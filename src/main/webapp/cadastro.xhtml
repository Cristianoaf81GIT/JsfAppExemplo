<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Concessionária</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="content=device-width, inicial-scale=1"/>
        <link rel="shortcut icon" type="image/png" href="/favicon/download.png"/>
        <script>
            PrimeFaces.locales['br'] = {
                closeText: 'Fechar',
                prevText: 'Anterior',
                nextText: 'Próximo',
                currentText: 'Começo',
                monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],
                dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
                weekHeader: 'Semana',
                firstDay: 0,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: '',
                timeOnlyTitle: 'Só Horas',
                timeText: 'Tempo',
                hourText: 'Hora',
                minuteText: 'Minuto',
                secondText: 'Segundo',
                ampm: false,
                month: 'Mês',
                week: 'Semana',
                day: 'Dia',
                allDayText: 'Todo o Dia'
            };
        </script>
              
    </h:head>
        <p:layout style="min-width:400px;min-height:400px; padding: 3%;">
            <p:layoutUnit position="north" size="00" footer="Concessionária:">
                
            </p:layoutUnit><br/>
            <p:layoutUnit position="center">
                <h:form>
                    <p:panelGrid columns="5">  
                        <p:outputLabel for="marca" value="Marca do veículo: ">
                            <p:inputText value="#{carroBean.carro.marca}" id="marca" />
                        </p:outputLabel>
                        <p:outputLabel for="modelo" value="Modelo do veículo:  ">
                            <p:inputText id="modelo" value="#{carroBean.carro.modelo}"  />
                        </p:outputLabel>
                        <p:outputLabel for="datafabricacao" value="Ano de Fabricação:  ">
                            <p:calendar id="datafabricacao" value="#{carroBean.carro.fabricacao}" locale="br"  navigator="true" yearRange="c-90:c+50" 
                                        pattern="yyyy"  pt:placeholder="Ano">
                                        
                            </p:calendar>    
                        </p:outputLabel>
                        <p:outputLabel for="preco" value="Preço do veículo:  ">
                            <p:inputNumber id="preco"  value="#{carroBean.carro.preco}" decimalSeparator="." thousandSeparator=","/>
                        </p:outputLabel>
                        <p:commandButton ajax="false" action="#{carroBean.salvar}" value="Salvar" icon="ui-icon-document">
                            
                        </p:commandButton>
                    </p:panelGrid>
                    <h:inputHidden value="#{carroBean.carro.id}"/><br/>
                    
                            <h:panelGrid columns="1" cellpadding="10">
                                
                                <p:dataTable id="tabela" var="carro" value="#{carroBean.lista}" rendered="#{carroBean.lista != null}" >
                                    <p:column headerText="Marca">
                                        <h:outputText value="#{carro.marca}" />
                                    </p:column>

                                    <p:column headerText="Modelo">
                                        <h:outputText value="#{carro.modelo}" />
                                    </p:column>

                                    <p:column headerText="Ano de Fabricação">
                                        <h:outputText value="#{carro.dataFormatada}" />
                                    </p:column>

                                    <p:column headerText="Preço">
                                        <h:outputText value="#{carro.preco}" />
                                    </p:column>
                                    <p:column headerText="Alterar/excluir">
                                        <p:splitButton value="Deletar Registro" icon="ui-icon-close" action="#{carroBean.deletar(carro)}" ajax="false">
                                            <p:menuitem value="atualizar" icon="ui-icon-loop" action="#{carroBean.atualizaCarro(carro)}" ajax="false"/>
                                        </p:splitButton>                                       
                                    </p:column>
                                </p:dataTable>
                                
                                
                            </h:panelGrid>
                       
                    <br/>
                    
                    <a href="novo.jsf" style="color: #38c9e1;">Voltar ao Menu</a>
                 </h:form>
                <p:messages /> 
            </p:layoutUnit>
            
        </p:layout>        
       
    
</html>

